# DIL: 쉽게 배우는 운영체제

> 작성일: 2025-02-28<br/>
> 작성자: iamkanguk97<br/>
> 읽은 책 범위: p.47 - p.66

---

## 운영체제의 구성

### 커널과 인터페이스

- 운영체제는 `커널`과 `인터페이스`로 구성되어 있음.
- `커널(Kernel)`: 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심 기능을 구현한 프로그램 (자동차의 엔진)
- `인터페이스(Interface)`: 사용자와 응용 프로그램에 인접해서 커널에 명령을 전달하고 실행 결과를 사용자와 응용 프로그램에 전달한다.
- 유닉스에서 문자 기반 사용자 인터페이스를 셸(Shell - sh) 이라고 부른다. 외에도 Bash 셸 등이 있다.
- 그래픽 사용자 인터페이스 기반인 윈도우에도 문자 기반의 사용자 인터페이스가 있는데 이를 명령 프롬프트인 cmd가 있다.

### 시스템 호출과 디바이스 드라이버

#### 시스템 호출

- `시스템 호출(System Call)`: 커널이 자신을 보호하기 위해서 만든 인터페이스. 사용자나 응용 프로그램이 자원에 직접 접근하는 것을 차단한다.
- 그래서, 자원을 이용하려면 시스템 호출이라는 인터페이스를 이용해서 접근해야 한다.
- 유사한 용어로 `응용 프로그램 인터페이스(API: Application Programming Interface)`와 `시스템 개발자용 키트(SDK: Software Development Kit)`가 있다.

```
- 시스템 호출은 커널이 제공하는 시스템 자원을 사용하기 위한 함수
- 응용 프로그램이 하드웨어 자원에 접근하거나 운영체제가 제공하는 서비스를 이용하려면 시스템 호출을 사용해야 한다.
- 운영체제는 커널이 제공하는 서비스를 시스템 호출로 제한하고 다른 방법으로는 커널에 들어오지 못하게 막아 컴퓨터 자원을 보호한다.
- 커널이 제공하는 서비스를 이용하기 위한 인터페이스이며 사용자가 자발적으로 커널 영역에 진입할 수 있는 유일한 수단이다.
```

- API는 응용 프로그램이 자신과 연관된 프로그램을 개발할 수 있도록 제공하는 인터페이스
- SDK는 프로그램 개발자를 위해 API 및 API 메뉴얼뿐 아니라 프로그램 개발에 필요한 코드 편집기와 에뮬레이터 같은 각종 개발용 응용 프로그램까지 하나로 묶어서 배포하는 개발툴 (비주얼 스튜디오 등)

#### 디바이스 드라이버

- `커널`과 `하드웨어`의 인터페이스
- `커널이 제공하는 드라이버`도 있고, `하드웨어 제작자가 제공하는 드라이버`도 있다.

현대 운영체제에서 커널은 주변장치와 데이터를 주고받는 표준 방식을 정하고 있다. 표준을 따르는 주변장치는 컴퓨터에 꽂기만 하면 바로 사용할 수 있다.<br/>
성능 향상이나 편리성을 위해서 표준외의 기능을 수행하는 경우에는 장치 제작자가 드라이버를 따로 준비한다. (그래픽 카드와 프린터)

### 커널의 역할과 종류

> 커널의 주요 역할: **다양한 종류의 프로세스에 CPU를 배분하고 작업할 수 있는 환경을 만들어주는 것 (프로세스 관리)**

- 프로세스 관리: 프로세스에 CPU를 배분하고 작업에 필요한 제반 환경을 제공한다.
- 메모리 관리: 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상공간을 제공한다.
- 파일 시스템 관리: 데이터를 저장하고 접근할 수 있는 인터페이스를 제공한다.
- 입출력 관리: 필요한 입력과 출력 서비스를 제공한다.
- 프로세스 간 통신 관리: 공동 작업을 위한 각 프로세스 간 통신 환경을 지원한다.

#### 단일형 구조 커널

> main 함수에 다 때려박은 느낌

초창기 운영체제의 구조로, 커널의 핵심 기능을 구현하는 모듈이 구분 없이 하나로 구성됨.

모듈이 분리되지 않아서 모듈 간의 통신 비용이 줄어들어서 효율적인 운영이 가능하다는 장점이 있지만, 버그/오류 처리의 어려움, 의존성이 높아 결함이 생기면 영향범위가 크다, 다양한 환경의 시스템에 적용하기가 어렵다는 단점이 있다.

#### 계층형 구조 커널

- 대부분의 운영체제가 해당 구조로 이루어져 있다.
- 다양한 하드웨어와 사용자의 요구를 수용하기 위해 계층과 기능을 추가한 형태

#### 마이크로 구조 커널

- **계층형 구조 커널에서 커널의 크기가 계속 커지고 필요한 하드웨어의 용량도 늘어났고 커널 소스가 방대해짐에 따라 오류를 잡기도 어려워졌다.**
- 이러한 문제를 해결하기 위해 계층형 구조의 접근 방식과 반대되는 접근 방식으로 개발된 것이다.
- 다른 커널에 비해 운영체제의 많은 부분이 사용자 영역에 구현되어 있다.

### 가상 머신

- 호환성 문제를 해결한 언어가 Java이다.
- 운영체제 위에 가상머신을 만들고 그 위에서 응용 프로그램이 작동하게 하는 것.
- 자바는 유닉스와 윈도우에서 작동하는 다양한 가상머신을 만들어 배포한다 (JVM)
